I"³.  <img src="/assets/Reaper/LevelRoute.gif" alt="Level-based routing">
  <div class="image-caption">Routing based on the incoming level</div>

<p>There may be times where you want to affect a signal based on its current level. Usually this requires some sort of ducking or gating on the effect itself, but using <a href="/music/2017/04/18/Reapers-Amazing,-but-Awful,-Almost-Anything-to-Anywhere-Routing.html">Reaperâ€™s Routing</a> you can do some pretty cool things.</p>

<p>So here, let me explain to you how to route a signal in Reaper depending on the level of that signal.</p>

<!--more-->

<h1 class="no_toc" id="contents">Contents</h1>
<ul id="markdown-toc">
  <li><a href="#the-theory" id="markdown-toc-the-theory">The Theory</a>    <ul>
      <li><a href="#basic-concept" id="markdown-toc-basic-concept">Basic Concept</a></li>
      <li><a href="#modification" id="markdown-toc-modification">Modification</a></li>
      <li><a href="#stereo" id="markdown-toc-stereo">Stereo</a></li>
    </ul>
  </li>
  <li><a href="#implementation" id="markdown-toc-implementation">Implementation</a>    <ul>
      <li><a href="#2-level-routing-of-mono" id="markdown-toc-2-level-routing-of-mono">2 level routing of mono.</a>        <ul>
          <li><a href="#setup-the-tracks" id="markdown-toc-setup-the-tracks">Setup the tracks</a></li>
          <li><a href="#setup-reasurround" id="markdown-toc-setup-reasurround">Setup ReaSurround</a></li>
          <li><a href="#setup-parameter-modulation" id="markdown-toc-setup-parameter-modulation">Setup Parameter Modulation</a></li>
        </ul>
      </li>
      <li><a href="#2-level-routing-of-stereo" id="markdown-toc-2-level-routing-of-stereo">2 level routing of Stereo.</a>        <ul>
          <li><a href="#setup-the-tracks-1" id="markdown-toc-setup-the-tracks-1">Setup the tracks</a></li>
          <li><a href="#setup-reasurround-1" id="markdown-toc-setup-reasurround-1">Setup ReaSurround</a></li>
          <li><a href="#setup-parameter-modulation-1" id="markdown-toc-setup-parameter-modulation-1">Setup Parameter Modulation</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#but-wait-theres-more" id="markdown-toc-but-wait-theres-more">But wait! Thereâ€™s more</a></li>
  <li><a href="#support-me" id="markdown-toc-support-me">Support me!</a></li>
</ul>

<h1 id="the-theory">The Theory</h1>

<h2 id="basic-concept">Basic Concept</h2>

  <img src="/assets/Reaper/LevelRouteBasic.png" alt="Basic Routing Idea">
  <div class="image-caption">The core idea</div>

<p>If we wanted to change the routing of a mono signal based on the level, itâ€™s easy! Simply modulate the pan by an envelope follower. The level of the amplitude follower will move the signal left or right based on the level of the signal. Simply route the L and R signal to their own tracks. See the graph above and see how the extremes will be modulated to go to either side.</p>

<p>Thereâ€™s one problem, itâ€™s not an absolute routing. If the signal is â€œin the middleâ€ then it will be routed to both sides equally. Thatâ€™s the ? in the graphic above. So we need to <em>scale</em> the modulation.</p>

<h2 id="modification">Modification</h2>

  <img src="/assets/Reaper/ParameterScaling.png" alt="Parameter Scaling">
  <div class="image-caption">Scaling Parameter values</div>

<p>What we want is for the signal to stay to one side, then quickly switch as it approaches the point where itâ€™d start moving to the other side.</p>

<p>We can achieve this by scaling the output of our envelope follower (parameter modulation audio control). Letâ€™s take a look at the graph above.</p>

<p>First we have a Min Value. This is the minimum value when the envelope follower (parameter modulation audio control) begins to generate a control signal. In the graph that is about -50dbFS. We also have a max value, which is the value at which the highest control signal is generated. In the graph that is about 0dbFS.</p>

<p>The red line shows what the output signal would be relative to the 2 axes. The green line is the point where the neutral (middle value) point is.</p>

<p>So in our graph, from -50dbFS to about -40dbFS, our amplitude-&gt;pan modulation would be panning our signal fairly hard left. From -40dbFS and above, it suddenly is panned sharply to the right. There is very little transition period.</p>

<h2 id="stereo">Stereo</h2>

  <img src="/assets/Reaper/ReaSurround.png" alt="ReaSurround">
  <div class="image-caption">The stereo routing saviour</div>

<p>Often we need to route stereo signals, not just mono signals. So how do we â€œpanâ€ a whole stereo signal?</p>

<p>Surround!</p>

<p>Surround panning gives us 4+ channes that we can modulate to. This means that we can route our to channel signal to 1/2 or 3/4 of the surround output. 1/2 being â€œoutput 1â€ and 3/4 being â€œoutput 2â€.</p>

<h1 id="implementation">Implementation</h1>

<h2 id="2-level-routing-of-mono">2 level routing of mono.</h2>

<p>By now this should be at least slightly obvious what weâ€™re going to do. We want to take our signal, turn it in to an envelope that we can modulate pan by.</p>

<p>When the signal is below the â€œMin Volumeâ€ in the parameter modulation, it will be panned to the Left (channel 1) and routed to the â€œLowâ€ track.</p>

<p>When the signal is above the â€œMin Volumeâ€ in the parameter modulation, it will be panned to the Right (channel 2) and routed to â€œHighâ€ track.</p>

<p>Here are the steps.</p>

<h3 id="setup-the-tracks">Setup the tracks</h3>

<ul>
  <li>Create 3 tracks.
    <ul>
      <li>Track 1 is your input track</li>
      <li>Track 2 is your â€œlowâ€ output</li>
      <li>Track 3 is your â€œhighâ€ output</li>
    </ul>
  </li>
  <li>Route from Track 1 to Track 2 using â€œMono Source 1â€ as the source and â€œ1/2â€ as the destination.</li>
  <li>Route from Track 1 to Track 3 using â€œMono Source 2â€ as the source and â€œ1/2â€ as the destination.</li>
  <li>Optionally turn off Track 1â€™s Master send</li>
</ul>

<p>Stop. Letâ€™s make sure this is working. At this point, if you pan Track 1 to the left, then your signal should be sent to â€œLowâ€. If you pan Track 1 to the right, then your signal should be sent to â€œHighâ€.</p>

<p>If this does not work, try again.</p>

<h3 id="setup-reasurround">Setup ReaSurround</h3>

<ul>
  <li>Insert â€œReaSurroundâ€ on Track 1</li>
  <li>Set ReaSurround to input channels to 1</li>
  <li>Set ReaSurround to Stereo</li>
</ul>

<h3 id="setup-parameter-modulation">Setup Parameter Modulation</h3>

  <img src="/assets/Reaper/MonoLevelRoute.png" alt="Mono Level Parameter Modulation">
  <div class="image-caption">Parameter Modulation Setup for mono level routing</div>

<ul>
  <li>Set a Parameter Modulation on â€œIn 1 Xâ€</li>
  <li>Turn on Audio Control signal (sidechain)</li>
  <li>Set Track audio channel to 1+2</li>
  <li>Set Baseline to the center value</li>
  <li>Strength 100%</li>
  <li>Direction: Centered</li>
  <li>Set the â€œAudio control signal shapingâ€ like the above image.</li>
</ul>

<p>Now Attack and Release should be obvious. Attack affects how long the reaction time is, and release affects how long it takes to settle back down from a high value.</p>

<p>The â€œMin Volume:â€ parameter is basically your crossover point.</p>

<p>Thatâ€™s it. Youâ€™re done.</p>

<h2 id="2-level-routing-of-stereo">2 level routing of Stereo.</h2>

<p>Stereo is a slightly different beast, but no more difficult.</p>

<p>When the signal is below the â€œMin Volumeâ€ in the parameter modulation, it will be panned to channel 1/2 and routed to the â€œLowâ€ track.</p>

<p>When the signal is above the â€œMin Volumeâ€ in the parameter modulation, it will be panned to channel 3/4 and routed to â€œHighâ€ track.</p>

<h3 id="setup-the-tracks-1">Setup the tracks</h3>

<ul>
  <li>Create 3 tracks.
    <ul>
      <li>Track 1 is your input track</li>
      <li>Track 2 is your â€œLowâ€ output</li>
      <li>Track 3 is your â€œHighâ€ output</li>
    </ul>
  </li>
  <li>Set Track 1â€™s Track Channels to 4</li>
  <li>Route from Track 1 to Track 2 using â€œ1/2â€ as the source and â€œ1/2â€ as the destination.</li>
  <li>Route from Track 1 to Track 3 using â€œ3/4â€ as the source and â€œ1/2â€ as the destination.</li>
</ul>

<p>Thereâ€™s no checking to see if this is working yet. Try with the mono version first if you are unsure of this routing scheme.</p>

<h3 id="setup-reasurround-1">Setup ReaSurround</h3>

<ul>
  <li>Insert â€œReaSurroundâ€ on Track 1</li>
  <li>Set ReaSurround to input channels to 2</li>
  <li>Set ReaSurround to Quadraphonic</li>
  <li>Move channel 1 outside the â€œright side circleâ€ (Zoom out if you need) see below</li>
  <li>Move channel 2 outside the â€œleft side circleâ€ (Zoom out if you need) see below</li>
</ul>

<p><img src="/assets/Reaper/StereoReaSurround.png" alt="Stereo ReaSurround Setup" /></p>

<h3 id="setup-parameter-modulation-1">Setup Parameter Modulation</h3>

  <img src="/assets/Reaper/MonoLevelRoute.png" alt="Stereo Level Parameter Modulation">
  <div class="image-caption">Parameter Modulation Setup for stereo level routing</div>

<ul>
  <li>Set a Parameter Modulation on â€œIn 1 Yâ€ - Note, itâ€™s <strong>Y</strong> this time, not X.</li>
  <li>Turn on Audio Control signal (sidechain)</li>
  <li>Set Track audio channel to 1+2</li>
  <li>Set Baseline to the center value</li>
  <li>Strength: -100% (Important! This must be negative or your low/high will be switched)</li>
  <li>Direction: Centered</li>
  <li>Set the â€œAudio control signal shapingâ€ like the above image.</li>
</ul>

<p>Now we need to link the right channel to the left so that they move together. This is easy.</p>

<ul>
  <li>Set a Parameter Modulation on â€œIn 2 Yâ€</li>
  <li>Link from MIDI or FX parameter - 1 (self): ReaSurround in 1 Y</li>
  <li>Offset: 0</li>
  <li>Scale: 100%</li>
</ul>

<p>Now youâ€™re set. Thatâ€™s it.</p>

<h1 id="but-wait-theres-more">But wait! Thereâ€™s more</h1>

<p>If you need more than 2 levels of routing, then you have 2 choices:</p>

<ul>
  <li>Repeat the process on your â€œHighâ€ Track.
    <ul>
      <li>Rename it â€œMediumâ€</li>
      <li>Have the â€œMediumâ€ track output to itself when below a value, and to a â€œHighâ€ track when above, just like we explained before</li>
    </ul>
  </li>
  <li>Do all the routing inside your â€œInput Trackâ€ (Track 1).
    <ul>
      <li>Just add another ReaSurround that takes input from Channel 3/4 and routes it out to 3/4 and 5/6.</li>
      <li>Route 3/4 to a â€œMediumâ€ track</li>
      <li>Route 5/6 to a â€œHighâ€ track.</li>
    </ul>
  </li>
</ul>

<p>Itâ€™s not that difficult really. With some experimentation there are some really interesting capabilities.You can even stack routings to the same channels with multiple ReaSurrounds to make really drastic changes.</p>

<p>Of course you can also do some crazy things with LFO modulation, &gt;4 channel routing and modulation of X <em>and</em> Y of channel nodes. This post just explains the complete basics of the concept.</p>

<h1 id="support-me">Support me!</h1>

<p>This post took 4 hours to research, screenshot, write and edit. If you appreciate the information presented then <a href="/DonateNow/">please consider joining patreon or donating!</a></p>

<p><a href="https://www.patreon.com/bePatron?u=7465992"> <img class="patreon-button" src="/assets/Patreon.png" alt="Be a Patreon!" /></a></p>

<form style="text-align: center;" action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick" />
<input type="hidden" name="hosted_button_id" value="BR247JAZBTUJJ" />
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!" />
<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1" />
</form>

:ET