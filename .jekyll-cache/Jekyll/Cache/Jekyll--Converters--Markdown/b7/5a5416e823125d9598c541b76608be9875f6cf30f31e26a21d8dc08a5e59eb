I"ŽD  <img src="/assets/Mixbus/Phase/PhaseTitle.jpg" alt="Phases of the EQ">
  <div class="image-caption">Phase Shifts</div>

<p>In a recent post about Mixbus 32câ€™s mixer <a href="/music/2017/09/18/Mixbus-32c-The-Mixer.html#eq">I discussed some â€˜issuesâ€™ with the EQ</a>. Iâ€™ve since discussed this issue with a number of people, including engineers at Harrison.</p>

<p>So the purpose of this post is to clarify some things, correct a potential error, and help you understand (at a very basic level) how and why digital EQs differ.</p>

<p>This doesnâ€™t cover <strong>EVERYTHING</strong>, just one specific difference between EQs in the context of this discussion.</p>

<p>Letâ€™s get on with it!</p>

<!--more-->

<h1 class="no_toc" id="contents">Contents</h1>
<ul id="markdown-toc">
  <li><a href="#what-is-phase" id="markdown-toc-what-is-phase">What is phase?</a></li>
  <li><a href="#does-phase-matter" id="markdown-toc-does-phase-matter">Does phase matter?</a>    <ul>
      <li><a href="#visual-trickery" id="markdown-toc-visual-trickery">Visual Trickery?</a></li>
      <li><a href="#peak-values" id="markdown-toc-peak-values">Peak values</a></li>
    </ul>
  </li>
  <li><a href="#visualizing-phase" id="markdown-toc-visualizing-phase">Visualizing Phase</a>    <ul>
      <li><a href="#deeper-in-to-visualizing-phase" id="markdown-toc-deeper-in-to-visualizing-phase">Deeper in to visualizing phase</a></li>
    </ul>
  </li>
  <li><a href="#harrison-comparison" id="markdown-toc-harrison-comparison">Harrison Comparison</a>    <ul>
      <li><a href="#mixbus-vs-pro-q-2---frequency" id="markdown-toc-mixbus-vs-pro-q-2---frequency">Mixbus vs Pro-Q 2 - Frequency</a></li>
      <li><a href="#mixbus-vs-pro-q-2---phase" id="markdown-toc-mixbus-vs-pro-q-2---phase">Mixbus vs Pro-Q 2 - Phase</a></li>
    </ul>
  </li>
  <li><a href="#modelingsimulation-vs-emulation" id="markdown-toc-modelingsimulation-vs-emulation">Modeling(Simulation) vs Emulation</a></li>
  <li><a href="#conclusion" id="markdown-toc-conclusion">Conclusion</a></li>
  <li><a href="#support-me" id="markdown-toc-support-me">Support Me!</a></li>
</ul>

<h1 id="what-is-phase">What is phase?</h1>

  <video autoplay loop muted class="gifvid">
    <source src="/assets/Mixbus/Phase/Phase.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>
  <div class="video-caption">Circle unwrapping</div>

<p>The very first thing you must understand is that <a href="https://en.wikipedia.org/wiki/Fourier_analysis#History">all signals can be represented by a sum of sine waves</a>. If you have trouble understanding this, then load up a simple square wave in your DAW and put a spectral analyzer on it. You can easily visualize the harmonic series of sine waves that creates that signal. This is a simplified view of the concept, however itâ€™s sufficient to understand the rest of this explanation.</p>

<p>A sine wave can be though of simply as a circle that is unfolded, just like in the animation above. Instead of drawing a circle moving to the right, then to the leftâ€¦ we draw the circle continuing to move to the right. Now we have a sine wave! Just like on a circle, if we trace the sine wave with our finger we can communicate our current position on the circle as a specific â€˜degreeâ€™ (or radians). So at the â€˜topâ€™ of the circle or sine, we could say we are at 90Â°. At the bottom we can say that weâ€™re at 270Â°.</p>

  <img src="/assets/Mixbus/Phase/PhaseShift.png" alt="Phase Shift">
  <div class="image-caption">description</div>

<p>When we only have one signal then weâ€™re communicating phase as a position from 0Â° to some point in the wave. If we have two signals that weâ€™re comparing then weâ€™re communicating the <em>phase shift</em>. This value is the difference between the position of the 2 sines (of the same frequency). The phase shift amount is communicated in degrees (or radians) relative to the distance traveled to arrive at that phase location in the reference signal. In our image above the red signal is shifted 90Â° from the blue signal because the red signal starts at 90Â° on the blue signal.</p>

<p>Not all phase shift is the result of a signal being time shifted, the phase can also be rotated in place.</p>

<p>So if we can view sounds as a summation of sine waves, then we also have to realize that these sine waves may need to start at different times and start at different positions to achieve certain complex sounds. <strong>It also means that certain processes can affect the <em>phase</em> of the signals that make up our sound.</strong> As these sine waves change phase, they also begin to interact with each other differently, which can have consequences to how we perceive them and their physical characteristics.</p>

<h1 id="does-phase-matter">Does phase matter?</h1>

<admc path="/assets/Mixbus/Phase/Audio" title="Phase Flipping Fun">
	<file name="Flip.wav" />
	<file name="NoFlip.wav" />
</admc>

<p>Go ahead and load up a track in your DAW and flip the polarity on a sound. No difference.</p>

<p>However, when you have relative phase between varying frequencies, things begin to matter. In the <a href="/programming/2017/01/30/Comparator.html">Comparator above</a> I have 3 sine waves at 440hz, 460hz and 480hz. The â€˜NoFlipâ€™ file has all 3 playing at a given relative phase. The â€˜Flipâ€™ file has 440hz and 460hz playing at the same relative phase, but 480hz has the polarity inverted (basically similar to a 180Â° phase rotation).</p>

<p>The difference is subtle, however it is there.</p>

<h2 id="visual-trickery">Visual Trickery?</h2>

  <img src="/assets/Mixbus/Phase/SpanNoFlip.png" alt="Span flip">
  <div class="image-caption">Flipped or not?</div>

<p>The spectrum shown above is the 440hz, 460hz and 480hz at the same relative phase.</p>

<p>So letâ€™s look at it when we flip the polarity (180Â° phase rotation) of the 480hz signal.</p>

  <img src="/assets/Mixbus/Phase/SpanFlip.png" alt="Span flip">
  <div class="image-caption">Not flipped or what?</div>

<p>Itâ€™s the exact same. Despite clearly sounding different, the frequency content is identical. The change in sound is caused by the relative phase change (and some artifacts of our playback system make that more audible).</p>

<h2 id="peak-values">Peak values</h2>

  <img src="/assets/Mixbus/Phase/NoFlip.png" alt="Scope NoFlip">
  <div class="image-caption">Scope on same relative phase</div>

<p>The above is the oscilloscope output of the 440hz, 460hz and 480hz at the same relative phase.</p>

  <img src="/assets/Mixbus/Phase/Flip.png" alt="Scope Flip">
  <div class="image-caption">Scope with 480hz flipped</div>

<p>The above is the oscilloscope output of the 440hz, 460hz but the 480hz signal has the polarity reversed.</p>

<p>This may not seem like a big deal (other than that we know they sound slightly different), but now look at the peaks and relative value. Those changes in peak values are going to change how our dynamics processors react to the sound. They also change our overall peak value (though our RMS stays the same!).</p>

<p>Even if the change in sound was not audible, the result of further processing certainly would be audible after processing with processors that are sensitive to amplitude.</p>

<h1 id="visualizing-phase">Visualizing Phase</h1>

  <img src="/assets/Mixbus/Phase/PhaseChart.png" alt="Bode Phase Graph">
  <div class="image-caption">A phase graph</div>

<p>So in order to continue we need to have a way to discuss how to communicate the relative phase changes, at various frequencies, compared to a reference signal. That is where the <a href="https://en.wikipedia.org/wiki/Bode_plot">Bode Phase Plot</a> comes in.</p>

<p>This plot shows the phase change relative to our original signal on the Y axis from -180Â° to 180Â°. The X axis shows which frequency has that amount of phase change.</p>

<p>I took an instance of <a href="https://www.fabfilter.com/products/pro-q-2-equalizer-plug-in">Fabfilter Pro-Q 2</a> and make a simple highpass and high shelf. Then I measured the phase response of that EQ curve using the Minimal Phase mode, which produces phase shifting at various frequencies (group delay).</p>

<p>In the chart you can see that at 20hz, there is approximately a 150Â° phase change. At 53hz itâ€™s 90Â°. Around 150hz itâ€™s only 30Â° etcâ€¦ As we learned above, those phase shifts can be audible if we compared it to another signal with the same frequency response but different phase characteristicsâ€¦ So lets do that!</p>

<p>Here is the <a href="https://www.fabfilter.com/products/pro-q-2-equalizer-plug-in">Pro-Q 2</a> EQ curve that produced that phase change. Set in â€˜Zero Latencyâ€™ mode (mininum phase)</p>

  <img src="/assets/Mixbus/Phase/ProQChart.png" alt="Pro-Q">
  <div class="image-caption">Pro-Q 2 EQ curve</div>

<h2 id="deeper-in-to-visualizing-phase">Deeper in to visualizing phase</h2>

  <img src="/assets/Mixbus/Phase/ProQPhaseCompare.png" alt="Filter Type Comparison">
  <div class="image-caption">Pro-Q Phase Comparison</div>

<p>Pro-Q 2 has 3 phase modes. Zero Latency (minimal phase), Natural Phase and Linear Phase. The above phase graph shows the phase response of the same EQ curve.</p>

<p>We can see that obviously the Linear Phase (Yellow) mode has no phase changes. Linear phase has some other tradeoffs though, which we wonâ€™t discuss here. <a href="https://www.youtube.com/watch?v=efKabAQQsPQ">Fabfilter has a great video on this anyway</a>.</p>

<p>The Zero Latency and Natural Phase modes do differ quite a bit in the high end. This can make quite an audible difference with certain high frequency content like cymbals, certain synth sounds, acoustic stringed instruments or heavily saturated music.</p>

<p>Once again here is the filter that lead to these phase graphs.</p>

  <img src="/assets/Mixbus/Phase/ProQChartCompare.png" alt="Pro-Q">
  <div class="image-caption">Pro-Q 2 EQ curve</div>

<h1 id="harrison-comparison">Harrison Comparison</h1>

  <video autoplay controls loop muted class="gifvid">
    <source src="/assets/Mixbus/Mixer/Cramp.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>
  <div class="video-caption">Cramping in the EQ, but is it bad?</div>

<p>Now that you understand that, and how, phase shift (specifically group delay) can make a difference in an EQ, we once again shift back to <a href="/music/2017/09/18/Mixbus-32c-The-Mixer.html#eq">a complaint I made about Mixbus 32câ€™s channel EQ</a>. Specifically the Filter Cramping at lower sample rates. (All of these tests are at 44.1khz)</p>

<p>This change in the filter shape as you approach the <a href="https://en.wikipedia.org/wiki/Nyquist_frequency">Nyquist Frequency</a> (1/2 the sample rate) obviously can not happen in the analog world because there <em>is no sample rate</em> in the analog world. However when designing digital filters we end up face-butting this frequency wall.</p>

<p>Thereâ€™s a number of potential solutions to this problem if weâ€™re trying to create an analog model, however at some point we have to choose between CPU usage, accurate frequency response and accurate phase response. We only get 2 of those, and the third will suffer.</p>

<h2 id="mixbus-vs-pro-q-2---frequency">Mixbus vs Pro-Q 2 - Frequency</h2>

  <img src="/assets/Mixbus/Phase/MixbusFreq.png" alt="EQ">
  <div class="image-caption">Mixbus vs. Pro-Q2 Frequency Matching</div>

<p>Hereâ€™s where we get in to the nitty-gritty. I spent a lot of time attempting to match the frequency response of Harrisonâ€™s 32c High Bell filter with Pro-Q 2. The result is above.</p>

<p>As you can see, itâ€™s possible to get <em>very</em> close tho the frequency response of 32câ€™s EQ, except Pro-Q2 does not have that â€˜crampingâ€™ that was discussed. The right side of the filter is not steeper because it is close to the Nyquist Frequency.</p>

<p>Butâ€¦ what does that do to the ever-important phase?</p>

<h2 id="mixbus-vs-pro-q-2---phase">Mixbus vs Pro-Q 2 - Phase</h2>

  <img src="/assets/Mixbus/Phase/MixbusPhase.png" alt="EQ">
  <div class="image-caption">Mixbus vs. Pro-Q2 Phase test</div>

<p>Look at that. Same frequency response (nearly), but our phase response is totally different when comparing Pro-Q 2 Zero latency and Mixbus 32c! The Pro-Q 2 ZL curve has more positive phase shift and less negative. This shows that there is a compensatory filter in Pro-Q 2 that â€˜fixesâ€™ the cramped frequency response, but it also changes our phase response.</p>

<p>Mixbus 32câ€™s phase response on the other hand is <em>very close</em> to what youâ€™d expect to come out of an analog EQ, even if the frequency response is slightly off.</p>

<p>Pro-Q 2â€™s Natural Phase mode is even closer to what youâ€™d expect from an analog EQ, however we have to pay for this small difference with nearly a 3x increase in CPU <em>and</em> a 384 sample (8.7ms @ 44.1khz) latency per instance. Thatâ€™s quite a price to pay for a very small difference, especially when many DAWs do not properly compensate for latency in certain routing setups.</p>

<p>Mixbus 32câ€™s phase response is quite accurate to the analog EQ with very little extra cost.</p>

<ul>
  <li><strong>NOTE</strong> - This also extends to <a href="/music/2017/09/18/Mixbus-32c-The-Mixer.html#high-and-low-pass">the high and low pass</a> as well, however in that case there is a fairly significant loss of high end thatâ€™s only avoidable by increasing sample rate.</li>
</ul>

<h1 id="modelingsimulation-vs-emulation">Modeling(Simulation) vs Emulation</h1>

  <img src="/assets/Mixbus/Phase/Emulation.png" alt="Emulation">
  <div class="image-caption">Emulation or Modeling?</div>

<p>Letâ€™s take a short break here to clear something up. There are 2 ways to approach replicating an analog device in the digital world:</p>

<ul>
  <li>Emulation - Emulation is when you replicate the <em>behaviour</em> of the device without concern for how individual components work, only the result of sections of components, or the whole result.</li>
  <li>Modeling (simulation) - Modeling is attempting to simulate each componentâ€™s input and output, then assemble these similar to how the analog device is emulated.</li>
</ul>

<p>Mixbus 32c, despite some of the marketing claims otherwise, is a <strong>Digital Model</strong> of the 32c channel strip. The designers of Mixbus 32câ€™s channel had the goal of creating the original 32c consoleâ€™s designerâ€™s intentions when designing the EQ. Each component in the original was not simulated and combined to create a wholeâ€¦ that is extremely computationally expensive and impractical.</p>

<p>The original designers of the 32c tried their best to avoid saturation, noise, crosstalk and other analog annoyances. The goal of the Mixbus 32c developers was to <em>model</em> the design goals of the original 32c channel. To this end it is a success.</p>

<p>However one does have to wonder if some of those unavoidable analog side-effects were part of the charm of the original? I guess you can always add your own noise and saturation if you want ;)</p>

<h1 id="conclusion">Conclusion</h1>

<p>What does this mean? Well, first it means that <strong>not all EQs sound the same</strong>. They can actually sound quite different sometimes, even with the exact same EQ curves. These differences may be audibly subtle at first, but <a href="#peak-values">as we saw</a> there are changes that can greatly affect further processing.</p>

<p>Something that weâ€™ve also learned is that if our EQ filter is cramped then one of our options is to increase the frequency range afforded to us by our sample rate. Running Mixbus 32c at 48khz or, even better, 96khz allows you to have a de-cramped EQ with a near-perfect analog-like phase response.</p>

<p>While I still have the opinion that the 32c EQ is not particularly useful because the cuts are so wide, it <em>is</em> a good <strong>model</strong> with some considerations.</p>

<ul>
  <li><strong>NOTE</strong> - Iâ€™ve taken some liberties with terminology and simplification of concepts to the point of being marginally incorrect. This was done in the name of making the subject more easily readable to someone with minimal pre-requisite knowledge. Feel free to point out any errors, but also be aware that some minor things were intentionally twisted slightly to make the concept more easily digestible.</li>
</ul>

<p>This also isnâ€™t <strong>EVERYTHING</strong> that makes EQâ€™s different. Itâ€™s just a taste in the context of this post.</p>

<h1 id="support-me">Support Me!</h1>

<p>This post took 22 hours to research, screenshot, write and edit. If you appreciate the information presented then <a href="/DonateNow/">please consider joining patreon or donating!</a></p>

<p><a href="https://www.patreon.com/bePatron?u=7465992"> <img class="patreon-button" src="/assets/Patreon.png" alt="Be a Patreon!" /></a></p>

<form style="text-align: center;" action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick" />
<input type="hidden" name="hosted_button_id" value="BR247JAZBTUJJ" />
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!" />
<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1" />
</form>

<p>If you have any questions or comments, please comment below! I read every comment and respond to most.</p>

:ET